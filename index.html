<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>üêº HSK 1-2 ¬∑ mobile flashcards</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, 'Segoe UI', 'PingFang SC', 'Helvetica Neue', sans-serif;
            background: linear-gradient(145deg, #8B0000 0%, #B22222 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 8px;
            touch-action: pan-y pinch-zoom;
            /* smooth touch */
        }
        
        .container {
            max-width: 600px;
            /* narrower for phones */
            width: 100%;
            background: white;
            border-radius: 32px;
            padding: 18px 16px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }
        
        h1 {
            text-align: center;
            color: #8B0000;
            font-size: 1.9rem;
            margin-bottom: 2px;
            letter-spacing: -0.5px;
        }
        
        .subtitle {
            text-align: center;
            color: #a16161;
            margin-bottom: 12px;
            font-style: italic;
            font-size: 0.9rem;
        }
        
        .stats {
            display: flex;
            justify-content: space-between;
            background: #fef0f0;
            padding: 10px 6px;
            border-radius: 40px;
            margin-bottom: 16px;
        }
        
        .stat {
            text-align: center;
            flex: 1;
        }
        
        .stat-label {
            font-size: 0.7rem;
            color: #666;
            text-transform: uppercase;
        }
        
        .stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            color: #8B0000;
            line-height: 1.2;
        }
        /* big touch target */
        
        .card {
            background: linear-gradient(145deg, #8B0000, #B22222);
            border-radius: 40px;
            padding: 20px 10px;
            text-align: center;
            cursor: pointer;
            margin-bottom: 16px;
            border: 3px solid #ffd7a5;
            min-height: 240px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            touch-action: manipulation;
            transition: transform 0.1s;
        }
        
        .card:active {
            transform: scale(0.99);
        }
        /* subtle touch feedback */
        
        .chinese {
            font-size: clamp(3rem, 15vw, 5rem);
            /* responsive */
            color: white;
            margin-bottom: 6px;
            line-height: 1.2;
            word-break: break-word;
        }
        
        .pinyin {
            font-size: clamp(1.5rem, 6vw, 2.2rem);
            color: rgba(255, 255, 255, 0.9);
            font-style: italic;
            margin-bottom: 10px;
        }
        
        .english {
            font-size: clamp(1.6rem, 6vw, 2.2rem);
            color: #8B0000;
            background: white;
            padding: 10px;
            border-radius: 30px;
            display: none;
            word-break: break-word;
        }
        
        .hint {
            text-align: center;
            color: #a16161;
            margin-bottom: 16px;
            font-size: 0.85rem;
        }
        /* option grid - touch friendly */
        
        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 12px 0;
        }
        
        .option {
            background: white;
            border: 3px solid #e0b6b6;
            border-radius: 60px;
            /* pill shape */
            padding: 16px 4px;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 0 5px 0 #bb8f8f;
            transition: all 0.1s;
            font-weight: 600;
            touch-action: manipulation;
            text-align: center;
            word-break: break-word;
            line-height: 1.3;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .option:active {
            transform: translateY(2px);
            box-shadow: 0 3px 0 #bb8f8f;
        }
        
        .option.correct {
            background: #28a745;
            color: white;
            border-color: #1e7e34;
            box-shadow: 0 5px 0 #1e7e34;
        }
        
        .option.wrong {
            background: #dc3545;
            color: white;
            border-color: #bd2130;
            box-shadow: 0 5px 0 #bd2130;
            text-decoration: line-through;
        }
        
        .option:disabled {
            opacity: 0.6;
            cursor: default;
            transform: none;
        }
        
        .feedback {
            text-align: center;
            font-size: 1.3rem;
            padding: 14px 8px;
            background: #fff8f0;
            border-radius: 60px;
            margin: 8px 0 12px;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        /* big juicy next button */
        
        .next-btn {
            background: #8B0000;
            color: white;
            font-size: 1.8rem;
            padding: 18px 10px;
            border-radius: 60px;
            border: none;
            cursor: pointer;
            width: 100%;
            margin: 6px 0;
            font-weight: bold;
            transition: opacity 0.2s;
            touch-action: manipulation;
            box-shadow: 0 6px 0 #5c0000;
        }
        
        .next-btn:active {
            transform: translateY(3px);
            box-shadow: 0 3px 0 #5c0000;
        }
        
        .next-btn:disabled {
            opacity: 0.5;
            transform: none;
            box-shadow: 0 5px 0 #5c0000;
            pointer-events: none;
        }
        
        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 12px 0 10px;
            gap: 10px;
        }
        
        .nav-btn {
            background: #ffead2;
            border: 2px solid #dba1a1;
            padding: 14px 10px;
            border-radius: 50px;
            color: #8B0000;
            cursor: pointer;
            font-weight: bold;
            transition: 0.1s;
            font-size: 1.2rem;
            flex: 1;
            text-align: center;
            touch-action: manipulation;
            box-shadow: 0 4px 0 #dba1a1;
        }
        
        .nav-btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 #dba1a1;
        }
        
        .nav-btn:disabled {
            opacity: 0.4;
            transform: none;
            box-shadow: 0 4px 0 #dba1a1;
            pointer-events: none;
        }
        
        .counter {
            font-size: 1.3rem;
            background: #f7d7d7;
            padding: 8px 16px;
            border-radius: 50px;
            font-weight: 600;
            min-width: 90px;
            text-align: center;
        }
        
        .progress-bar {
            width: 100%;
            height: 12px;
            background: #f0e0e0;
            border-radius: 20px;
            margin: 12px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #8B0000, #B22222);
            border-radius: 20px;
            width: 0%;
            transition: width 0.2s;
        }
        /* scrollable categories - touch */
        
        .categories {
            display: flex;
            flex-wrap: nowrap;
            overflow-x: auto;
            gap: 8px;
            padding: 8px 4px 12px;
            margin: 10px 0 0;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
            white-space: nowrap;
        }
        
        .categories::-webkit-scrollbar {
            height: 4px;
        }
        
        .categories::-webkit-scrollbar-thumb {
            background: #8B0000;
            border-radius: 10px;
        }
        
        .cat-btn {
            padding: 12px 22px;
            border: 2px solid #8B0000;
            border-radius: 50px;
            background: transparent;
            color: #8B0000;
            cursor: pointer;
            font-weight: bold;
            transition: 0.1s;
            font-size: 1rem;
            touch-action: manipulation;
            flex: 0 0 auto;
            background: white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .cat-btn:active {
            background: #ffdad6;
        }
        
        .cat-btn.active {
            background: #8B0000;
            color: white;
            border-color: #8B0000;
        }
        
        .word-count {
            text-align: center;
            color: #8B0000;
            font-weight: bold;
            margin: 6px 0 2px;
            font-size: 0.95rem;
        }
        
        .footer-note {
            text-align: center;
            margin-top: 16px;
            color: #a16161;
            font-size: 0.8rem;
        }
        /* prevent zoom on double-tap for buttons */
        
        button,
        .card,
        .option,
        .nav-btn,
        .next-btn,
        .cat-btn {
            touch-action: manipulation;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>üêº HSK 1-2</h1>
        <div class="subtitle">150+ words ¬∑ works on phone & laptop</div>

        <!-- compact stats -->
        <div class="stats">
            <div class="stat"><span class="stat-label">studied</span>
                <div class="stat-number" id="studied">0</div>
            </div>
            <div class="stat"><span class="stat-label">known</span>
                <div class="stat-number" id="known">0</div>
            </div>
            <div class="stat"><span class="stat-label">review</span>
                <div class="stat-number" id="review">0</div>
            </div>
        </div>

        <!-- big tappable card -->
        <div class="card" id="card">
            <div class="chinese" id="chinese">‰Ω†</div>
            <div class="pinyin" id="pinyin">n«ê</div>
            <div class="english" id="english">you</div>
        </div>
        <div class="hint">üëÜ tap card ¬∑ or use ‚Üê ‚Üí keys (laptop)</div>

        <!-- multiple choice (touch optimized) -->
        <div class="options" id="options"></div>
        <div class="feedback" id="feedback">choose the correct meaning</div>

        <!-- big next button -->
        <button class="next-btn" id="nextBtn" disabled>‚ñ∂ next word</button>

        <!-- navigation row -->
        <div class="nav">
            <button class="nav-btn" id="prevBtn" disabled>‚óÄ prev</button>
            <span class="counter" id="counter">1/0</span>
            <button class="nav-btn" id="nextNavBtn">next ‚ñ∂</button>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progress"></div>
        </div>
        <div class="word-count" id="wordCount">üìö loading ...</div>

        <!-- horizontal scroll categories (thumb friendly) -->
        <div class="categories" id="categories"></div>

        <div class="footer-note">
            ‚ú® share this file ¬∑ works everywhere ¬∑ no internet
        </div>
    </div>

    <script>
        (function() {
            // ---------- FULL HSK 1-2 WORD LIST (150+ items) ----------
            const words = [
                // lesson 1
                {
                    chinese: "‰Ω†",
                    pinyin: "n«ê",
                    english: "you",
                    category: "Basics"
                }, {
                    chinese: "Â•Ω",
                    pinyin: "h«éo",
                    english: "good",
                    category: "Basics"
                }, {
                    chinese: "‰Ω†Â•Ω",
                    pinyin: "n«ê h«éo",
                    english: "hello",
                    category: "Greetings"
                }, {
                    chinese: "ÂÜçËßÅ",
                    pinyin: "z√†i ji√†n",
                    english: "goodbye",
                    category: "Greetings"
                }, {
                    chinese: "Ë∞¢Ë∞¢",
                    pinyin: "xi√® xie",
                    english: "thank you",
                    category: "Greetings"
                }, {
                    chinese: "‰∏ç",
                    pinyin: "b√π",
                    english: "no/not",
                    category: "Basics"
                }, {
                    chinese: "Âæà",
                    pinyin: "hƒõn",
                    english: "very",
                    category: "Basics"
                },
                // lesson 2
                {
                    chinese: "Êàë",
                    pinyin: "w«í",
                    english: "I/me",
                    category: "People"
                }, {
                    chinese: "‰ªñ",
                    pinyin: "tƒÅ",
                    english: "he/him",
                    category: "People"
                }, {
                    chinese: "Â•π",
                    pinyin: "tƒÅ",
                    english: "she/her",
                    category: "People"
                }, {
                    chinese: "Áà∏Áà∏",
                    pinyin: "b√†ba",
                    english: "father",
                    category: "Family"
                }, {
                    chinese: "Â¶àÂ¶à",
                    pinyin: "mƒÅma",
                    english: "mother",
                    category: "Family"
                }, {
                    chinese: "Âì•Âì•",
                    pinyin: "gƒìge",
                    english: "older brother",
                    category: "Family"
                }, {
                    chinese: "ÂßêÂßê",
                    pinyin: "jiƒõjie",
                    english: "older sister",
                    category: "Family"
                }, {
                    chinese: "ÂºüÂºü",
                    pinyin: "d√¨di",
                    english: "younger brother",
                    category: "Family"
                }, {
                    chinese: "Â¶πÂ¶π",
                    pinyin: "m√®imei",
                    english: "younger sister",
                    category: "Family"
                }, {
                    chinese: "ÂÑøÂ≠ê",
                    pinyin: "√©rzi",
                    english: "son",
                    category: "Family"
                }, {
                    chinese: "Â•≥ÂÑø",
                    pinyin: "n«ö'√©r",
                    english: "daughter",
                    category: "Family"
                }, {
                    chinese: "Áà∑Áà∑",
                    pinyin: "y√©ye",
                    english: "grandfather",
                    category: "Family"
                }, {
                    chinese: "Â•∂Â•∂",
                    pinyin: "n«éinai",
                    english: "grandmother",
                    category: "Family"
                }, {
                    chinese: "ÊúãÂèã",
                    pinyin: "p√©ngyou",
                    english: "friend",
                    category: "People"
                }, {
                    chinese: "ÂêåÂ≠¶",
                    pinyin: "t√≥ngxu√©",
                    english: "classmate",
                    category: "People"
                }, {
                    chinese: "ËÄÅÂ∏à",
                    pinyin: "l«éoshƒ´",
                    english: "teacher",
                    category: "People"
                }, {
                    chinese: "Â≠¶Áîü",
                    pinyin: "xu√©sheng",
                    english: "student",
                    category: "People"
                }, {
                    chinese: "ÂåªÁîü",
                    pinyin: "yƒ´shƒìng",
                    english: "doctor",
                    category: "People"
                }, {
                    chinese: "‰∫∫",
                    pinyin: "r√©n",
                    english: "person",
                    category: "People"
                },
                // lesson 3 numbers
                {
                    chinese: "‰∏Ä",
                    pinyin: "yƒ´",
                    english: "one",
                    category: "Numbers"
                }, {
                    chinese: "‰∫å",
                    pinyin: "√®r",
                    english: "two",
                    category: "Numbers"
                }, {
                    chinese: "‰∏â",
                    pinyin: "sƒÅn",
                    english: "three",
                    category: "Numbers"
                }, {
                    chinese: "Âõõ",
                    pinyin: "s√¨",
                    english: "four",
                    category: "Numbers"
                }, {
                    chinese: "‰∫î",
                    pinyin: "w«î",
                    english: "five",
                    category: "Numbers"
                }, {
                    chinese: "ÂÖ≠",
                    pinyin: "li√π",
                    english: "six",
                    category: "Numbers"
                }, {
                    chinese: "‰∏É",
                    pinyin: "qƒ´",
                    english: "seven",
                    category: "Numbers"
                }, {
                    chinese: "ÂÖ´",
                    pinyin: "bƒÅ",
                    english: "eight",
                    category: "Numbers"
                }, {
                    chinese: "‰πù",
                    pinyin: "ji«î",
                    english: "nine",
                    category: "Numbers"
                }, {
                    chinese: "ÂçÅ",
                    pinyin: "sh√≠",
                    english: "ten",
                    category: "Numbers"
                }, {
                    chinese: "Áôæ",
                    pinyin: "b«éi",
                    english: "hundred",
                    category: "Numbers"
                }, {
                    chinese: "ÂçÉ",
                    pinyin: "qiƒÅn",
                    english: "thousand",
                    category: "Numbers"
                }, {
                    chinese: "Â≤Å",
                    pinyin: "su√¨",
                    english: "years old",
                    category: "Numbers"
                }, {
                    chinese: "Âá†",
                    pinyin: "j«ê",
                    english: "how many",
                    category: "Questions"
                }, {
                    chinese: "Â§ö",
                    pinyin: "du≈ç",
                    english: "many/much",
                    category: "Numbers"
                },
                // lesson 4 time
                {
                    chinese: "‰ªäÂ§©",
                    pinyin: "jƒ´ntiƒÅn",
                    english: "today",
                    category: "Time"
                }, {
                    chinese: "ÊòéÂ§©",
                    pinyin: "m√≠ngtiƒÅn",
                    english: "tomorrow",
                    category: "Time"
                }, {
                    chinese: "Êò®Â§©",
                    pinyin: "zu√≥tiƒÅn",
                    english: "yesterday",
                    category: "Time"
                }, {
                    chinese: "‰ªäÂπ¥",
                    pinyin: "jƒ´nni√°n",
                    english: "this year",
                    category: "Time"
                }, {
                    chinese: "ÂéªÂπ¥",
                    pinyin: "q√πni√°n",
                    english: "last year",
                    category: "Time"
                }, {
                    chinese: "Êó©‰∏ä",
                    pinyin: "z«éoshang",
                    english: "morning",
                    category: "Time"
                }, {
                    chinese: "Êôö‰∏ä",
                    pinyin: "w«énshang",
                    english: "evening",
                    category: "Time"
                }, {
                    chinese: "ÊòüÊúü",
                    pinyin: "xƒ´ngqƒ´",
                    english: "week",
                    category: "Time"
                }, {
                    chinese: "Áé∞Âú®",
                    pinyin: "xi√†nz√†i",
                    english: "now",
                    category: "Time"
                }, {
                    chinese: "Êó∂ÂÄô",
                    pinyin: "sh√≠hou",
                    english: "time/moment",
                    category: "Time"
                },
                // lesson 5 verbs
                {
                    chinese: "ÊòØ",
                    pinyin: "sh√¨",
                    english: "to be",
                    category: "Verbs"
                }, {
                    chinese: "Êúâ",
                    pinyin: "y«íu",
                    english: "to have",
                    category: "Verbs"
                }, {
                    chinese: "ÂÅö",
                    pinyin: "zu√≤",
                    english: "to do/make",
                    category: "Verbs"
                }, {
                    chinese: "Âéª",
                    pinyin: "q√π",
                    english: "to go",
                    category: "Verbs"
                }, {
                    chinese: "Êù•",
                    pinyin: "l√°i",
                    english: "to come",
                    category: "Verbs"
                }, {
                    chinese: "ÂêÉ",
                    pinyin: "chƒ´",
                    english: "to eat",
                    category: "Verbs"
                }, {
                    chinese: "Âñù",
                    pinyin: "hƒì",
                    english: "to drink",
                    category: "Verbs"
                }, {
                    chinese: "ËØ¥",
                    pinyin: "shu≈ç",
                    english: "to speak",
                    category: "Verbs"
                }, {
                    chinese: "ËØª",
                    pinyin: "d√∫",
                    english: "to read",
                    category: "Verbs"
                }, {
                    chinese: "ÂÜô",
                    pinyin: "xiƒõ",
                    english: "to write",
                    category: "Verbs"
                }, {
                    chinese: "Âê¨",
                    pinyin: "tƒ´ng",
                    english: "to listen",
                    category: "Verbs"
                }, {
                    chinese: "Áúã",
                    pinyin: "k√†n",
                    english: "to see/watch",
                    category: "Verbs"
                }, {
                    chinese: "Â≠¶",
                    pinyin: "xu√©",
                    english: "to learn",
                    category: "Verbs"
                }, {
                    chinese: "Âè´",
                    pinyin: "ji√†o",
                    english: "to call/be called",
                    category: "Verbs"
                }, {
                    chinese: "Âú®",
                    pinyin: "z√†i",
                    english: "to be at",
                    category: "Verbs"
                }, {
                    chinese: "Â∑•‰Ωú",
                    pinyin: "g≈çngzu√≤",
                    english: "to work",
                    category: "Verbs"
                }, {
                    chinese: "‰ºëÊÅØ",
                    pinyin: "xi≈´xi",
                    english: "to rest",
                    category: "Verbs"
                }, {
                    chinese: "Ê¥óÊæ°",
                    pinyin: "x«ê z«éo",
                    english: "to shower",
                    category: "Verbs"
                }, {
                    chinese: "ÊâìÊâ´",
                    pinyin: "d«és«éo",
                    english: "to clean",
                    category: "Verbs"
                }, {
                    chinese: "Âî±Ê≠å",
                    pinyin: "ch√†ng gƒì",
                    english: "to sing",
                    category: "Verbs"
                }, {
                    chinese: "Ë∑≥Ëàû",
                    pinyin: "ti√†o w«î",
                    english: "to dance",
                    category: "Verbs"
                }, {
                    chinese: "Ê∏∏Ê≥≥",
                    pinyin: "y√≥u y«íng",
                    english: "to swim",
                    category: "Verbs"
                }, {
                    chinese: "Áù°Ëßâ",
                    pinyin: "shu√¨ ji√†o",
                    english: "to sleep",
                    category: "Verbs"
                },
                // lesson 6 food
                {
                    chinese: "ÂíñÂï°",
                    pinyin: "kƒÅfƒìi",
                    english: "coffee",
                    category: "Food"
                }, {
                    chinese: "Èù¢ÂåÖ",
                    pinyin: "mi√†nbƒÅo",
                    english: "bread",
                    category: "Food"
                }, {
                    chinese: "Èù¢Êù°",
                    pinyin: "mi√†nti√°o",
                    english: "noodles",
                    category: "Food"
                }, {
                    chinese: "Á±≥È•≠",
                    pinyin: "m«êf√†n",
                    english: "rice",
                    category: "Food"
                }, {
                    chinese: "Ê∞¥",
                    pinyin: "shu«ê",
                    english: "water",
                    category: "Food"
                }, {
                    chinese: "Ëå∂",
                    pinyin: "ch√°",
                    english: "tea",
                    category: "Food"
                }, {
                    chinese: "Ëèú",
                    pinyin: "c√†i",
                    english: "vegetables/dish",
                    category: "Food"
                }, {
                    chinese: "Ê∞¥Êûú",
                    pinyin: "shu«êgu«í",
                    english: "fruit",
                    category: "Food"
                }, {
                    chinese: "ËãπÊûú",
                    pinyin: "p√≠nggu«í",
                    english: "apple",
                    category: "Food"
                }, {
                    chinese: "Â•ΩÂêÉ",
                    pinyin: "h«éochƒ´",
                    english: "delicious",
                    category: "Food"
                },
                // lesson 7 places
                {
                    chinese: "Â≠¶Ê†°",
                    pinyin: "xu√©xi√†o",
                    english: "school",
                    category: "Places"
                }, {
                    chinese: "ÂåªÈô¢",
                    pinyin: "yƒ´yu√†n",
                    english: "hospital",
                    category: "Places"
                }, {
                    chinese: "ÂÖ¨Âõ≠",
                    pinyin: "g≈çngyu√°n",
                    english: "park",
                    category: "Places"
                }, {
                    chinese: "Êú∫Âú∫",
                    pinyin: "jƒ´ch«éng",
                    english: "airport",
                    category: "Places"
                }, {
                    chinese: "ËΩ¶Á´ô",
                    pinyin: "chƒìzh√†n",
                    english: "bus/train station",
                    category: "Places"
                }, {
                    chinese: "ÂïÜÂ∫ó",
                    pinyin: "shƒÅngdi√†n",
                    english: "shop/store",
                    category: "Places"
                }, {
                    chinese: "ÂÆ∂",
                    pinyin: "jiƒÅ",
                    english: "home/family",
                    category: "Places"
                }, {
                    chinese: "Âõæ‰π¶È¶Ü",
                    pinyin: "t√∫sh≈´gu«én",
                    english: "library",
                    category: "Places"
                },
                // lesson 8 questions
                {
                    chinese: "‰ªÄ‰πà",
                    pinyin: "sh√©nme",
                    english: "what",
                    category: "Questions"
                }, {
                    chinese: "Ë∞Å",
                    pinyin: "shu√≠",
                    english: "who",
                    category: "Questions"
                }, {
                    chinese: "Âì™ÂÑø",
                    pinyin: "n«ér",
                    english: "where",
                    category: "Questions"
                }, {
                    chinese: "‰∏∫‰ªÄ‰πà",
                    pinyin: "w√®ish√©nme",
                    english: "why",
                    category: "Questions"
                }, {
                    chinese: "ÊÄé‰πà",
                    pinyin: "zƒõnme",
                    english: "how",
                    category: "Questions"
                }, {
                    chinese: "Âêó",
                    pinyin: "ma",
                    english: "question particle",
                    category: "Particles"
                }, {
                    chinese: "Âë¢",
                    pinyin: "ne",
                    english: "question particle",
                    category: "Particles"
                }, {
                    chinese: "Âì™",
                    pinyin: "n«é",
                    english: "which",
                    category: "Questions"
                },
                // lesson 9 adjectives
                {
                    chinese: "Â§ß",
                    pinyin: "d√†",
                    english: "big",
                    category: "Adjectives"
                }, {
                    chinese: "Â∞è",
                    pinyin: "xi«éo",
                    english: "small",
                    category: "Adjectives"
                }, {
                    chinese: "Â∞ë",
                    pinyin: "sh«éo",
                    english: "few",
                    category: "Adjectives"
                }, {
                    chinese: "È´ò",
                    pinyin: "gƒÅo",
                    english: "tall/high",
                    category: "Adjectives"
                }, {
                    chinese: "È´òÂÖ¥",
                    pinyin: "gƒÅox√¨ng",
                    english: "happy",
                    category: "Adjectives"
                }, {
                    chinese: "ÊºÇ‰∫Æ",
                    pinyin: "pi√†oliang",
                    english: "beautiful",
                    category: "Adjectives"
                }, {
                    chinese: "Âøô",
                    pinyin: "m√°ng",
                    english: "busy",
                    category: "Adjectives"
                },
                // lesson 10 objects
                {
                    chinese: "ÊâãÊú∫",
                    pinyin: "sh«íujƒ´",
                    english: "mobile phone",
                    category: "Objects"
                }, {
                    chinese: "ÁîµËÑë",
                    pinyin: "di√†nn«éo",
                    english: "computer",
                    category: "Objects"
                }, {
                    chinese: "ÁîµËßÜ",
                    pinyin: "di√†nsh√¨",
                    english: "television",
                    category: "Objects"
                }, {
                    chinese: "ÁîµËØù",
                    pinyin: "di√†nhu√†",
                    english: "telephone",
                    category: "Objects"
                }, {
                    chinese: "ÊâãË°®",
                    pinyin: "sh«íubi«éo",
                    english: "watch",
                    category: "Objects"
                }, {
                    chinese: "ÊâãÈïØ",
                    pinyin: "sh«íuzhu√≥",
                    english: "bracelet",
                    category: "Objects"
                }, {
                    chinese: "ÊâãÂ•ó",
                    pinyin: "sh«íut√†o",
                    english: "gloves",
                    category: "Objects"
                }, {
                    chinese: "Ê§ÖÂ≠ê",
                    pinyin: "y«êzi",
                    english: "chair",
                    category: "Objects"
                }, {
                    chinese: "Ê°åÂ≠ê",
                    pinyin: "zhu≈çzi",
                    english: "table",
                    category: "Objects"
                }, {
                    chinese: "‰π¶",
                    pinyin: "sh≈´",
                    english: "book",
                    category: "Objects"
                }, {
                    chinese: "Á¨î",
                    pinyin: "b«ê",
                    english: "pen",
                    category: "Objects"
                }, {
                    chinese: "Áå´",
                    pinyin: "mƒÅo",
                    english: "cat",
                    category: "Animals"
                }, {
                    chinese: "Áãó",
                    pinyin: "g«íu",
                    english: "dog",
                    category: "Animals"
                },
                // lesson 11 particles
                {
                    chinese: "ÁöÑ",
                    pinyin: "de",
                    english: "possession particle",
                    category: "Particles"
                }, {
                    chinese: "‰∫Ü",
                    pinyin: "le",
                    english: "past/completion",
                    category: "Particles"
                }, {
                    chinese: "Ëøá",
                    pinyin: "gu√≤",
                    english: "experience particle",
                    category: "Particles"
                },
                // lesson 12 erhua
                {
                    chinese: "Â∞èÂ≠©ÂÑø",
                    pinyin: "xi«éoh√°ir",
                    english: "child",
                    category: "Erhua"
                }, {
                    chinese: "Â∞èÈ∏üÂÑø",
                    pinyin: "xi«éoni«éor",
                    english: "little bird",
                    category: "Erhua"
                }, {
                    chinese: "È•≠È¶ÜÂÑø",
                    pinyin: "f√†ngu«énr",
                    english: "restaurant",
                    category: "Erhua"
                }, {
                    chinese: "È¶ôÊ∞¥ÂÑø",
                    pinyin: "xiƒÅngshu«êr",
                    english: "perfume",
                    category: "Erhua"
                },
                // lesson 13 countries
                {
                    chinese: "‰∏≠ÂõΩ",
                    pinyin: "Zh≈çnggu√≥",
                    english: "China",
                    category: "Countries"
                }, {
                    chinese: "ÁæéÂõΩ",
                    pinyin: "Mƒõigu√≥",
                    english: "America",
                    category: "Countries"
                }, {
                    chinese: "Ëã±ÂõΩ",
                    pinyin: "Yƒ´nggu√≥",
                    english: "UK",
                    category: "Countries"
                }, {
                    chinese: "Ê≥ïÂõΩ",
                    pinyin: "F√†gu√≥",
                    english: "France",
                    category: "Countries"
                }, {
                    chinese: "Âæ∑ÂõΩ",
                    pinyin: "D√©gu√≥",
                    english: "Germany",
                    category: "Countries"
                }, {
                    chinese: "Êó•Êú¨",
                    pinyin: "R√¨bƒõn",
                    english: "Japan",
                    category: "Countries"
                }, {
                    chinese: "Èü©ÂõΩ",
                    pinyin: "H√°ngu√≥",
                    english: "Korea",
                    category: "Countries"
                }, {
                    chinese: "Ê±âËØ≠",
                    pinyin: "H√†ny«î",
                    english: "Chinese language",
                    category: "Languages"
                }, {
                    chinese: "Ëã±ËØ≠",
                    pinyin: "Yƒ´ngy«î",
                    english: "English language",
                    category: "Languages"
                }, {
                    chinese: "Ê±âÂ≠ó",
                    pinyin: "H√†nz√¨",
                    english: "Chinese character",
                    category: "Languages"
                },
                // lesson 14 more verbs
                {
                    chinese: "Â≠¶‰π†",
                    pinyin: "xu√©x√≠",
                    english: "to study",
                    category: "Verbs"
                }, {
                    chinese: "ÁªÉ‰π†",
                    pinyin: "li√†nx√≠",
                    english: "to practice",
                    category: "Verbs"
                }, {
                    chinese: "Â§ç‰π†",
                    pinyin: "f√πx√≠",
                    english: "to review",
                    category: "Verbs"
                }, {
                    chinese: "ËßÅÈù¢",
                    pinyin: "ji√†nmi√†n",
                    english: "to meet",
                    category: "Verbs"
                }, {
                    chinese: "Ê¨¢Ëøé",
                    pinyin: "huƒÅny√≠ng",
                    english: "to welcome",
                    category: "Verbs"
                }, {
                    chinese: "ÂºÄÂßã",
                    pinyin: "kƒÅish«ê",
                    english: "to start",
                    category: "Verbs"
                }, {
                    chinese: "ÂñúÊ¨¢",
                    pinyin: "x«êhuƒÅn",
                    english: "to like",
                    category: "Verbs"
                }, {
                    chinese: "Áà±",
                    pinyin: "√†i",
                    english: "to love",
                    category: "Verbs"
                },
                // lesson 15 time extras
                {
                    chinese: "ÊØèÂ§©",
                    pinyin: "mƒõitiƒÅn",
                    english: "every day",
                    category: "Time"
                }, {
                    chinese: "ÊØèÂπ¥",
                    pinyin: "mƒõini√°n",
                    english: "every year",
                    category: "Time"
                }, {
                    chinese: "‰∏äÂçà",
                    pinyin: "sh√†ngw«î",
                    english: "morning",
                    category: "Time"
                }, {
                    chinese: "‰∏ãÂçà",
                    pinyin: "xi√†w«î",
                    english: "afternoon",
                    category: "Time"
                }, {
                    chinese: "‰∏≠Âçà",
                    pinyin: "zh≈çngw«î",
                    english: "noon",
                    category: "Time"
                }, {
                    chinese: "ÂàÜÈíü",
                    pinyin: "fƒìnzh≈çng",
                    english: "minute",
                    category: "Time"
                }, {
                    chinese: "Â∞èÊó∂",
                    pinyin: "xi«éosh√≠",
                    english: "hour",
                    category: "Time"
                },
                // additional from screenshots
                {
                    chinese: "Âè£",
                    pinyin: "k«íu",
                    english: "mouth/measure",
                    category: "Measure Words"
                }, {
                    chinese: "ÂêçÂ≠ó",
                    pinyin: "m√≠ngzi",
                    english: "name",
                    category: "Basics"
                }, {
                    chinese: "ÂÖ¥Ë∂£",
                    pinyin: "x√¨ngq√π",
                    english: "interest",
                    category: "Nouns"
                }, {
                    chinese: "ÁªßÁª≠",
                    pinyin: "j√¨x√π",
                    english: "to continue",
                    category: "Verbs"
                }, {
                    chinese: "ÂÅ•Â∫∑",
                    pinyin: "ji√†nkƒÅng",
                    english: "healthy",
                    category: "Adjectives"
                }, {
                    chinese: "Âú∞Âõæ",
                    pinyin: "d√¨t√∫",
                    english: "map",
                    category: "Objects"
                }, {
                    chinese: "Âú∞ÈìÅ",
                    pinyin: "d√¨tiƒõ",
                    english: "subway",
                    category: "Transport"
                }, {
                    chinese: "ÁîµÂΩ±",
                    pinyin: "di√†ny«êng",
                    english: "movie",
                    category: "Entertainment"
                }, {
                    chinese: "Èü≥‰πê",
                    pinyin: "yƒ´nyu√®",
                    english: "music",
                    category: "Entertainment"
                }, {
                    chinese: "ÂèãË∞ä",
                    pinyin: "y«íuy√¨",
                    english: "friendship",
                    category: "Nouns"
                }, {
                    chinese: "Ëã±ÈõÑ",
                    pinyin: "yƒ´ngxi√≥ng",
                    english: "hero",
                    category: "People"
                }, {
                    chinese: "Âç±Èô©",
                    pinyin: "wƒìixi«én",
                    english: "dangerous",
                    category: "Adjectives"
                }, {
                    chinese: "ËØ≠Ë®Ä",
                    pinyin: "y«îy√°n",
                    english: "language",
                    category: "Languages"
                }, {
                    chinese: "Ëê•ÂÖª",
                    pinyin: "y√≠ngy«éng",
                    english: "nutrition",
                    category: "Nouns"
                }, {
                    chinese: "Êàë‰ª¨",
                    pinyin: "w«ímen",
                    english: "we/us",
                    category: "People"
                }, {
                    chinese: "‰ªñ‰ª¨",
                    pinyin: "tƒÅmen",
                    english: "they/them",
                    category: "People"
                }, {
                    chinese: "‰∏ãÈõ®",
                    pinyin: "xi√†y«î",
                    english: "to rain",
                    category: "Weather"
                }, {
                    chinese: "Èò¥Â§©",
                    pinyin: "yƒ´ntiƒÅn",
                    english: "cloudy",
                    category: "Weather"
                }, {
                    chinese: "Ë•øÁìú",
                    pinyin: "xƒ´guƒÅ",
                    english: "watermelon",
                    category: "Food"
                }
            ];

            // ---------- state ----------
            let masterWords = words.map(w => ({...w,
                known: false
            }));
            let currentWords = [...masterWords];
            let currentIndex = 0;
            let studied = 0;
            let known = 0;
            let locked = false;

            // DOM elements
            const chineseEl = document.getElementById('chinese');
            const pinyinEl = document.getElementById('pinyin');
            const englishEl = document.getElementById('english');
            const optionsEl = document.getElementById('options');
            const feedbackEl = document.getElementById('feedback');
            const nextBtn = document.getElementById('nextBtn');
            const prevBtn = document.getElementById('prevBtn');
            const nextNavBtn = document.getElementById('nextNavBtn');
            const counterEl = document.getElementById('counter');
            const progressEl = document.getElementById('progress');
            const studiedEl = document.getElementById('studied');
            const knownEl = document.getElementById('known');
            const reviewEl = document.getElementById('review');
            const wordCountEl = document.getElementById('wordCount');
            const categoriesEl = document.getElementById('categories');

            // build category filters
            const allCats = ['All', ...new Set(words.map(w => w.category))].sort();
            allCats.forEach(cat => {
                let btn = document.createElement('button');
                btn.className = `cat-btn ${cat === 'All' ? 'active' : ''}`;
                btn.textContent = cat;
                btn.dataset.cat = cat;
                btn.onclick = (e) => {
                    document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
                    e.target.classList.add('active');
                    filterByCategory(cat);
                };
                categoriesEl.appendChild(btn);
            });

            function filterByCategory(cat) {
                if (cat === 'All') {
                    currentWords = masterWords.map(w => ({...w,
                        known: false
                    }));
                } else {
                    currentWords = masterWords.filter(w => w.category === cat).map(w => ({...w,
                        known: false
                    }));
                }
                studied = 0;
                known = 0;
                currentIndex = 0;
                updateDisplay();
                wordCountEl.textContent = `üìö ${currentWords.length} words ¬∑ ${cat}`;
            }

            // generate 4 unique options
            function getOptions(correct) {
                let all = masterWords.map(w => w.english);
                let others = all.filter(e => e !== correct);
                // shuffle once
                for (let i = others.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [others[i], others[j]] = [others[j], others[i]];
                }
                let opts = [correct];
                for (let i = 0; i < others.length && opts.length < 4; i++) {
                    if (!opts.includes(others[i])) opts.push(others[i]);
                }
                // shuffle final
                for (let i = opts.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [opts[i], opts[j]] = [opts[j], opts[i]];
                }
                return opts;
            }

            function updateDisplay() {
                if (!currentWords.length) {
                    chineseEl.textContent = "üéâ";
                    pinyinEl.textContent = "all done!";
                    englishEl.textContent = "pick another category";
                    optionsEl.innerHTML = '';
                    feedbackEl.textContent = 'üëÜ choose category above';
                    nextBtn.disabled = true;
                    prevBtn.disabled = true;
                    nextNavBtn.disabled = true;
                    counterEl.textContent = `0/0`;
                    progressEl.style.width = '0%';
                    studiedEl.textContent = studied;
                    knownEl.textContent = known;
                    reviewEl.textContent = 0;
                    return;
                }

                let word = currentWords[currentIndex];
                chineseEl.textContent = word.chinese;
                pinyinEl.textContent = word.pinyin;
                englishEl.textContent = word.english;
                englishEl.style.display = 'none';

                let opts = getOptions(word.english);
                optionsEl.innerHTML = '';
                opts.forEach(opt => {
                    let btn = document.createElement('button');
                    btn.className = 'option';
                    btn.textContent = opt;
                    btn.onclick = () => {
                        if (locked) return;
                        if (opt === word.english) {
                            btn.classList.add('correct');
                            feedbackEl.innerHTML = '‚úÖ correct!';
                            if (!currentWords[currentIndex].known) {
                                currentWords[currentIndex].known = true;
                                known++;
                            }
                            studied++;
                            locked = true;
                            nextBtn.disabled = false;
                            document.querySelectorAll('.option').forEach(b => b.disabled = true);
                        } else {
                            btn.classList.add('wrong');
                            feedbackEl.innerHTML = `‚ùå answer: "${word.english}"`;
                            btn.disabled = true;
                        }
                        updateStats();
                    };
                    optionsEl.appendChild(btn);
                });

                feedbackEl.textContent = 'choose meaning';
                locked = false;
                nextBtn.disabled = true;
                counterEl.textContent = `${currentIndex+1}/${currentWords.length}`;
                progressEl.style.width = `${((currentIndex+1)/currentWords.length)*100}%`;
                prevBtn.disabled = currentIndex === 0;
                nextNavBtn.disabled = currentIndex === currentWords.length - 1;
                updateStats();
            }

            function nextCard() {
                if (currentIndex < currentWords.length - 1) {
                    currentIndex++;
                    updateDisplay();
                }
            }

            function prevCard() {
                if (currentIndex > 0) {
                    currentIndex--;
                    updateDisplay();
                }
            }

            function updateStats() {
                studiedEl.textContent = studied;
                knownEl.textContent = known;
                reviewEl.textContent = currentWords.filter(w => !w.known).length;
            }

            // event listeners
            nextBtn.onclick = nextCard;
            prevBtn.onclick = prevCard;
            nextNavBtn.onclick = nextCard;
            document.getElementById('card').onclick = () => {
                englishEl.style.display = englishEl.style.display === 'none' ? 'block' : 'none';
            };

            // keyboard (laptop)
            document.onkeydown = (e) => {
                if (e.key === 'ArrowLeft') prevCard();
                if (e.key === 'ArrowRight') nextCard();
                if (e.key === ' ') {
                    e.preventDefault();
                    englishEl.style.display = englishEl.style.display === 'none' ? 'block' : 'none';
                }
            };

            // init
            wordCountEl.textContent = `üìö ${words.length} total words`;
            updateDisplay();
        })();
    </script>
</body>

</html>